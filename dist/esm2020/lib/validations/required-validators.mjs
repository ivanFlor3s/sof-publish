import { Validators } from "@angular/forms";
export class RequiredValidators {
    static required(customMessage) {
        return (control) => {
            if (!!Validators.required(control))
                return { required: { required: true, customMessage } };
            return null;
        };
    }
    static requiredTrue(customMessage) {
        return (control) => {
            if (!!Validators.requiredTrue(control))
                return { requiredTrue: { requiredTrue: true, customMessage } };
            return null;
        };
    }
    static requiredIfFieldIsEmpty(ifEmptyField, customMessage) {
        return (control) => {
            const emptyField = control.parent?.get(ifEmptyField);
            if (!!emptyField && !emptyField.value && !!Validators.required(control))
                return { requiredIfFieldIsEmpty: { requiredIfFieldIsEmpty: true, customMessage } };
            return null;
        };
    }
    static requiredIfFieldIsIn(formFieldName, values, customMessage) {
        return (control) => {
            const formField = control?.parent?.get(formFieldName);
            if (!!formField && values.find(x => x == formField.value) && !!Validators.required(control))
                return { requiredIfFieldIsIn: { values: values, customMessage } };
            return null;
        };
    }
    static requiredIfFieldIsNotEmpty(ifNotEmptyField, customMessage) {
        return (control) => {
            const emptyField = control.parent?.get(ifNotEmptyField);
            if (!!emptyField && !!emptyField.value && !!Validators.required(control))
                return { requiredIfFieldIsNotEmpty: { requiredIfFieldIsNotEmpty: true, customMessage } };
            return null;
        };
    }
    //https://medium.com/ngx/3-ways-to-implement-conditional-validation-of-reactive-forms-c59ed6fc3325
    static requiredIf(predicate, customMessage) {
        return (control) => {
            if (predicate() && !!Validators.required(control))
                return { requiredIf: { requiredIf: true, customMessage } };
            return null;
        };
    }
    static fieldRequiredIfFieldEmpty(requiredField, ifEmptyField, customMessage) {
        return (formGroup) => {
            const field = formGroup.get(requiredField);
            const emptyField = formGroup.get(ifEmptyField);
            if (!!field && !!emptyField)
                if (!field.value && !emptyField.value) {
                    let errors = field.errors;
                    if (!errors)
                        errors = {};
                    errors['fieldRequiredIfFieldEmpty'] = { fieldRequiredIfFieldEmpty: { fieldRequiredIfFieldEmpty: true, customMessage } };
                    field.setErrors(errors);
                }
                else {
                    let errors = field.errors;
                    if (!!errors && errors.hasOwnProperty('required')) {
                        delete errors['fieldRequiredIfFieldEmpty'];
                        field.setErrors(errors);
                    }
                }
            return null;
        };
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVxdWlyZWQtdmFsaWRhdG9ycy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2NvbnRyb2xzL3NyYy9saWIvdmFsaWRhdGlvbnMvcmVxdWlyZWQtdmFsaWRhdG9ycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQWdDLFVBQVUsRUFBRSxNQUFNLGdCQUFnQixDQUFBO0FBRXpFLE1BQU0sT0FBTyxrQkFBa0I7SUFFN0IsTUFBTSxDQUFDLFFBQVEsQ0FBQyxhQUFzQjtRQUNwQyxPQUFPLENBQUMsT0FBd0IsRUFBRSxFQUFFO1lBQ2xDLElBQUksQ0FBQyxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDO2dCQUM5QixPQUFPLEVBQUUsUUFBUSxFQUFFLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxhQUFhLEVBQUUsRUFBQyxDQUFDO1lBQzFELE9BQU8sSUFBSSxDQUFDO1FBQ2QsQ0FBQyxDQUFBO0lBQ0gsQ0FBQztJQUVELE1BQU0sQ0FBQyxZQUFZLENBQUMsYUFBc0I7UUFDeEMsT0FBTyxDQUFDLE9BQXdCLEVBQUUsRUFBRTtZQUNsQyxJQUFJLENBQUMsQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQztnQkFDbEMsT0FBTyxFQUFFLFlBQVksRUFBRSxFQUFFLFlBQVksRUFBRSxJQUFJLEVBQUUsYUFBYSxFQUFFLEVBQUMsQ0FBQztZQUNsRSxPQUFPLElBQUksQ0FBQztRQUNkLENBQUMsQ0FBQTtJQUNILENBQUM7SUFFRCxNQUFNLENBQUMsc0JBQXNCLENBQUMsWUFBb0IsRUFBRSxhQUFzQjtRQUN4RSxPQUFPLENBQUMsT0FBd0IsRUFBRSxFQUFFO1lBQ2xDLE1BQU0sVUFBVSxHQUFHLE9BQU8sQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDO1lBQ3JELElBQUksQ0FBQyxDQUFDLFVBQVUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDO2dCQUNuRSxPQUFPLEVBQUUsc0JBQXNCLEVBQUUsRUFBRSxzQkFBc0IsRUFBRSxJQUFJLEVBQUUsYUFBYSxFQUFFLEVBQUMsQ0FBQztZQUN0RixPQUFPLElBQUksQ0FBQztRQUNkLENBQUMsQ0FBQTtJQUNILENBQUM7SUFFRCxNQUFNLENBQUMsbUJBQW1CLENBQUMsYUFBcUIsRUFBRSxNQUFhLEVBQUUsYUFBc0I7UUFDckYsT0FBTyxDQUFDLE9BQXdCLEVBQUUsRUFBRTtZQUNsQyxNQUFNLFNBQVMsR0FBRyxPQUFPLEVBQUUsTUFBTSxFQUFFLEdBQUcsQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUN0RCxJQUFJLENBQUMsQ0FBQyxTQUFTLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxTQUFTLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDO2dCQUN6RixPQUFPLEVBQUUsbUJBQW1CLEVBQUUsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLGFBQWEsRUFBRSxFQUFDLENBQUM7WUFDbkUsT0FBTyxJQUFJLENBQUM7UUFDZCxDQUFDLENBQUE7SUFDSCxDQUFDO0lBRUQsTUFBTSxDQUFDLHlCQUF5QixDQUFDLGVBQXVCLEVBQUUsYUFBc0I7UUFDOUUsT0FBTyxDQUFDLE9BQXdCLEVBQUUsRUFBRTtZQUNsQyxNQUFNLFVBQVUsR0FBRyxPQUFPLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxlQUFlLENBQUMsQ0FBQztZQUN4RCxJQUFJLENBQUMsQ0FBQyxVQUFVLElBQUksQ0FBQyxDQUFDLFVBQVUsQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDO2dCQUNwRSxPQUFPLEVBQUUseUJBQXlCLEVBQUUsRUFBRSx5QkFBeUIsRUFBRSxJQUFJLEVBQUUsYUFBYSxFQUFFLEVBQUMsQ0FBQztZQUM1RixPQUFPLElBQUksQ0FBQztRQUNkLENBQUMsQ0FBQTtJQUNILENBQUM7SUFFRCxrR0FBa0c7SUFDbEcsTUFBTSxDQUFDLFVBQVUsQ0FBQyxTQUF3QixFQUFFLGFBQXNCO1FBQ2hFLE9BQU8sQ0FBQyxPQUF3QixFQUFFLEVBQUU7WUFDbEMsSUFBSSxTQUFTLEVBQUUsSUFBSSxDQUFDLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUM7Z0JBQy9DLE9BQU8sRUFBRSxVQUFVLEVBQUUsRUFBRSxVQUFVLEVBQUUsSUFBSSxFQUFFLGFBQWEsRUFBRSxFQUFDLENBQUM7WUFDNUQsT0FBTyxJQUFJLENBQUM7UUFDZCxDQUFDLENBQUE7SUFDSCxDQUFDO0lBRUQsTUFBTSxDQUFDLHlCQUF5QixDQUFDLGFBQXFCLEVBQUUsWUFBb0IsRUFBRSxhQUFzQjtRQUNsRyxPQUFPLENBQUMsU0FBMEIsRUFBRSxFQUFFO1lBQ3BDLE1BQU0sS0FBSyxHQUFHLFNBQVMsQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLENBQUM7WUFDM0MsTUFBTSxVQUFVLEdBQUcsU0FBUyxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUMvQyxJQUFJLENBQUMsQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDLFVBQVU7Z0JBQ3pCLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssRUFBRTtvQkFDckMsSUFBSSxNQUFNLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQztvQkFDMUIsSUFBSSxDQUFDLE1BQU07d0JBQ1QsTUFBTSxHQUFHLEVBQUUsQ0FBQztvQkFDZCxNQUFNLENBQUMsMkJBQTJCLENBQUMsR0FBRyxFQUFFLHlCQUF5QixFQUFFLEVBQUUseUJBQXlCLEVBQUUsSUFBSSxFQUFFLGFBQWEsRUFBRSxFQUFDLENBQUM7b0JBQ3ZILEtBQUssQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7aUJBQ3pCO3FCQUNJO29CQUNILElBQUksTUFBTSxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUM7b0JBQzFCLElBQUksQ0FBQyxDQUFDLE1BQU0sSUFBSSxNQUFNLENBQUMsY0FBYyxDQUFDLFVBQVUsQ0FBQyxFQUFFO3dCQUNqRCxPQUFPLE1BQU0sQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO3dCQUMzQyxLQUFLLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO3FCQUN6QjtpQkFDRjtZQUNILE9BQU8sSUFBSSxDQUFDO1FBQ2QsQ0FBQyxDQUFBO0lBQ0gsQ0FBQztDQUVGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWJzdHJhY3RDb250cm9sLCBWYWxpZGF0b3JGbiwgVmFsaWRhdG9ycyB9IGZyb20gXCJAYW5ndWxhci9mb3Jtc1wiXHJcblxyXG5leHBvcnQgY2xhc3MgUmVxdWlyZWRWYWxpZGF0b3JzIHtcclxuXHJcbiAgc3RhdGljIHJlcXVpcmVkKGN1c3RvbU1lc3NhZ2U/OiBzdHJpbmcpOiBWYWxpZGF0b3JGbiB7XHJcbiAgICByZXR1cm4gKGNvbnRyb2w6IEFic3RyYWN0Q29udHJvbCkgPT4ge1xyXG4gICAgICBpZiAoISFWYWxpZGF0b3JzLnJlcXVpcmVkKGNvbnRyb2wpKVxyXG4gICAgICAgICAgcmV0dXJuIHsgcmVxdWlyZWQ6IHsgcmVxdWlyZWQ6IHRydWUsIGN1c3RvbU1lc3NhZ2UgfX07XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIHJlcXVpcmVkVHJ1ZShjdXN0b21NZXNzYWdlPzogc3RyaW5nKTogVmFsaWRhdG9yRm4ge1xyXG4gICAgcmV0dXJuIChjb250cm9sOiBBYnN0cmFjdENvbnRyb2wpID0+IHtcclxuICAgICAgaWYgKCEhVmFsaWRhdG9ycy5yZXF1aXJlZFRydWUoY29udHJvbCkpXHJcbiAgICAgICAgICByZXR1cm4geyByZXF1aXJlZFRydWU6IHsgcmVxdWlyZWRUcnVlOiB0cnVlLCBjdXN0b21NZXNzYWdlIH19O1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0YXRpYyByZXF1aXJlZElmRmllbGRJc0VtcHR5KGlmRW1wdHlGaWVsZDogc3RyaW5nLCBjdXN0b21NZXNzYWdlPzogc3RyaW5nKTogVmFsaWRhdG9yRm4ge1xyXG4gICAgcmV0dXJuIChjb250cm9sOiBBYnN0cmFjdENvbnRyb2wpID0+IHtcclxuICAgICAgY29uc3QgZW1wdHlGaWVsZCA9IGNvbnRyb2wucGFyZW50Py5nZXQoaWZFbXB0eUZpZWxkKTtcclxuICAgICAgaWYgKCEhZW1wdHlGaWVsZCAmJiAhZW1wdHlGaWVsZC52YWx1ZSAmJiAhIVZhbGlkYXRvcnMucmVxdWlyZWQoY29udHJvbCkpXHJcbiAgICAgICAgICByZXR1cm4geyByZXF1aXJlZElmRmllbGRJc0VtcHR5OiB7IHJlcXVpcmVkSWZGaWVsZElzRW1wdHk6IHRydWUsIGN1c3RvbU1lc3NhZ2UgfX07XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIHJlcXVpcmVkSWZGaWVsZElzSW4oZm9ybUZpZWxkTmFtZTogc3RyaW5nLCB2YWx1ZXM6IGFueVtdLCBjdXN0b21NZXNzYWdlPzogc3RyaW5nKTogVmFsaWRhdG9yRm4ge1xyXG4gICAgcmV0dXJuIChjb250cm9sOiBBYnN0cmFjdENvbnRyb2wpID0+IHtcclxuICAgICAgY29uc3QgZm9ybUZpZWxkID0gY29udHJvbD8ucGFyZW50Py5nZXQoZm9ybUZpZWxkTmFtZSk7XHJcbiAgICAgIGlmICghIWZvcm1GaWVsZCAmJiB2YWx1ZXMuZmluZCh4ID0+IHggPT0gZm9ybUZpZWxkLnZhbHVlKSAmJiAhIVZhbGlkYXRvcnMucmVxdWlyZWQoY29udHJvbCkpXHJcbiAgICAgICAgcmV0dXJuIHsgcmVxdWlyZWRJZkZpZWxkSXNJbjogeyB2YWx1ZXM6IHZhbHVlcywgY3VzdG9tTWVzc2FnZSB9fTsgXHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIHJlcXVpcmVkSWZGaWVsZElzTm90RW1wdHkoaWZOb3RFbXB0eUZpZWxkOiBzdHJpbmcsIGN1c3RvbU1lc3NhZ2U/OiBzdHJpbmcpOiBWYWxpZGF0b3JGbiB7XHJcbiAgICByZXR1cm4gKGNvbnRyb2w6IEFic3RyYWN0Q29udHJvbCkgPT4ge1xyXG4gICAgICBjb25zdCBlbXB0eUZpZWxkID0gY29udHJvbC5wYXJlbnQ/LmdldChpZk5vdEVtcHR5RmllbGQpO1xyXG4gICAgICBpZiAoISFlbXB0eUZpZWxkICYmICEhZW1wdHlGaWVsZC52YWx1ZSAmJiAhIVZhbGlkYXRvcnMucmVxdWlyZWQoY29udHJvbCkpXHJcbiAgICAgICAgICByZXR1cm4geyByZXF1aXJlZElmRmllbGRJc05vdEVtcHR5OiB7IHJlcXVpcmVkSWZGaWVsZElzTm90RW1wdHk6IHRydWUsIGN1c3RvbU1lc3NhZ2UgfX07XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy9odHRwczovL21lZGl1bS5jb20vbmd4LzMtd2F5cy10by1pbXBsZW1lbnQtY29uZGl0aW9uYWwtdmFsaWRhdGlvbi1vZi1yZWFjdGl2ZS1mb3Jtcy1jNTllZDZmYzMzMjVcclxuICBzdGF0aWMgcmVxdWlyZWRJZihwcmVkaWNhdGU6ICgpID0+IGJvb2xlYW4sIGN1c3RvbU1lc3NhZ2U/OiBzdHJpbmcpOiBWYWxpZGF0b3JGbiB7XHJcbiAgICByZXR1cm4gKGNvbnRyb2w6IEFic3RyYWN0Q29udHJvbCkgPT4ge1xyXG4gICAgICBpZiAocHJlZGljYXRlKCkgJiYgISFWYWxpZGF0b3JzLnJlcXVpcmVkKGNvbnRyb2wpKVxyXG4gICAgICAgIHJldHVybiB7IHJlcXVpcmVkSWY6IHsgcmVxdWlyZWRJZjogdHJ1ZSwgY3VzdG9tTWVzc2FnZSB9fTsgXHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGZpZWxkUmVxdWlyZWRJZkZpZWxkRW1wdHkocmVxdWlyZWRGaWVsZDogc3RyaW5nLCBpZkVtcHR5RmllbGQ6IHN0cmluZywgY3VzdG9tTWVzc2FnZT86IHN0cmluZyk6IFZhbGlkYXRvckZuIHtcclxuICAgIHJldHVybiAoZm9ybUdyb3VwOiBBYnN0cmFjdENvbnRyb2wpID0+IHtcclxuICAgICAgY29uc3QgZmllbGQgPSBmb3JtR3JvdXAuZ2V0KHJlcXVpcmVkRmllbGQpO1xyXG4gICAgICBjb25zdCBlbXB0eUZpZWxkID0gZm9ybUdyb3VwLmdldChpZkVtcHR5RmllbGQpO1xyXG4gICAgICBpZiAoISFmaWVsZCAmJiAhIWVtcHR5RmllbGQpXHJcbiAgICAgICAgaWYgKCFmaWVsZC52YWx1ZSAmJiAhZW1wdHlGaWVsZC52YWx1ZSkge1xyXG4gICAgICAgICAgbGV0IGVycm9ycyA9IGZpZWxkLmVycm9ycztcclxuICAgICAgICAgIGlmICghZXJyb3JzKVxyXG4gICAgICAgICAgICBlcnJvcnMgPSB7fTtcclxuICAgICAgICAgIGVycm9yc1snZmllbGRSZXF1aXJlZElmRmllbGRFbXB0eSddID0geyBmaWVsZFJlcXVpcmVkSWZGaWVsZEVtcHR5OiB7IGZpZWxkUmVxdWlyZWRJZkZpZWxkRW1wdHk6IHRydWUsIGN1c3RvbU1lc3NhZ2UgfX07XHJcbiAgICAgICAgICBmaWVsZC5zZXRFcnJvcnMoZXJyb3JzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBsZXQgZXJyb3JzID0gZmllbGQuZXJyb3JzO1xyXG4gICAgICAgICAgaWYgKCEhZXJyb3JzICYmIGVycm9ycy5oYXNPd25Qcm9wZXJ0eSgncmVxdWlyZWQnKSkge1xyXG4gICAgICAgICAgICBkZWxldGUgZXJyb3JzWydmaWVsZFJlcXVpcmVkSWZGaWVsZEVtcHR5J107XHJcbiAgICAgICAgICAgIGZpZWxkLnNldEVycm9ycyhlcnJvcnMpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG59XHJcbiJdfQ==